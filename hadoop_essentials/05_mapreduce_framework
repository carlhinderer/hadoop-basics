------------------------------------------------------------
CHAPTER 5 - HADOOP MAPREDUCE FRAMEWORK
------------------------------------------------------------

- The MapReduce Model

    - Apache Hadoop is often associated with MapReduce computing.  Prior to Hadoop v2, it was the
        main use case.  Virtually all tools developed for Hadoop, such as Pig and Hive, will work
        seamlessly on top of Hadoop v2 MapReduce.


    - The MapReduce computation model is very simple.  It has a 'mapping' step, followed by a 
        'reducing' step.



- MapReduce Example # 1

    Let's say we want to count all of the times the word 'Kutuzov' appears in 'War and Peace'.  We
      can accomplish this with a single bash statement:


      grep " Kutuzov " war-and-peace.txt | wc -l

      in which:
        grep " Kutuzov " war-and-peace.txt       # is the map step
        wc - l                                   # is the reduce step



- MapReduce Example # 2

    [mapper.sh script]
    #!/bin/bash
    while read line ; do
      for token in $line; do
        if [ "$token" = "Kutuzov" ] ; then
          echo "Kutuzov,1"
        elif [ "$token" = "Petersburg" ] ; then
          echo "Petersburg,1"
        fi
      done
    done


    [reducer.sh script]
    #!/bin/bash
    kcount=0
    pcount=0
    while read line ; do
      if [ "$line" = "Kutuzov,1" ] ; then
       let kcount=kcount+1
      elif [ "$line" = "Petersburg,1" ] ; then
       let pcount=pcount+1
      fi
    done
    echo "Kutuzov,$kcount"
    echo "Petersburg,$pcount"


    [Using the scripts]
    $ cat war-and-peace.txt | ./mapper.sh | ./reducer.sh

    Kutuzov,315
    Petersburg,128



