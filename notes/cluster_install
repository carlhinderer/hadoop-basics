
1. Create AWS EC2 instances

      - Step 1: Use the CentOS 7 image
      - Step 2: Use the t2.xlarge (4 CPUs, 16GB RAM) Instance Type
      - Step 3: Set 'Number of instances' to 3
      - Step 4: Choose 100GB Magnetic Storage
      - Step 5: Add a new tag with Key='Name' and Value='Hadoop Nodes'
      - Step 6: Create a new security group
                  - Type = 'Custom TCP'
                  - Port Range = '0-65535'
                  - Source = 'Anywhere'
                  - Description = 'hadoop-nodes'
      - Step 7: Click 'Launch' and the key pair dialog comes up
                  - Select 'Create a new key pair'
                  - Key Pair Name = 'hadoop-cluster'
                  - Click 'Download Key Pair'
                  - Then click launch

      - Modify the permissions of the key file downloaded on your machine
          chmod 400 hadoop-cluster.pem

      - Give a name to each of the servers we created
          hadoop-ambari-server
          hadoop-datanode-1
          hadoop-datanode-2


2. Configure EC2 Instances

      - Connect to each instance
          ssh -i hadoop-cluster.pem centos@13.56.251.229

      - Update packages on each machine
          sudo yum update

      - Make centos the superuser on each machine
          sudo visudo

          # Add this line after 'root ALL=(ALL) ALL'
          centos ALL=(ALL) ALL

          # Save the file

      - On each machine, verify the hostname
          hostname -f

      - Edit the network configuration file
          sudo vi /etc/sysconfig/network

          # Add these pairs
          NETWORKING=yes
          NOZEROCONF=yes
          HOSTNAME=<fqdn>

      - Configure IP tables to disable firewall daemon while we install services
          sudo systemctl disable firewalld
          sudo service firewalld stop

      - Install unzip and wget
          sudo yum install unzip
          sudo yum install wget

      - Disable SELinux
          # For current session
          sudo setenforce 0

          #  Permanent
          sudo vi /etc/selinux/config
          # Add this line
          SELINUX=disabled
          # Save the file

          # Reboot

          # Grand rwx permissions for new files and folders
          sudo vi /etc/profile
          # Add this line at end of file
          umask 0022

      - Install NTP
          sudo yum install -y ntp && 
            sudo systemctl start ntpd && 
            sudo systemctl enable ntpd

          # Start NPT at boot
          sudo systemctl disable chronyd.service